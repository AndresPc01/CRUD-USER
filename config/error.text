
si da error 500 y no aparece la linea del error se poner esto al principio del scrip 

<?php
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

// El resto de tu cÃ³digo...
